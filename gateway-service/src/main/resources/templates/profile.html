<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:an="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="UTF-8">
        <title>Twitter</title>
    </head>

    <body>
        <section class="content-header" th:replace="header/imports.html::imports"></section>
        <section class="content-header" th:replace="header/navbar.html::navbar"></section>
        <section class="content-header" th:replace="header/navbar.html::navbar"></section>
        <section class="content-header" th:replace="../static/css/css-profile.html::css-profile"></section>
        <section class="content-header" th:replace="modal/modal-edit-profile.html::modal-edit-profile"></section>
        <section class="content-header" th:replace="modal/modal-edit-profile-admin.html::modal-edit-profile-admin"></section>

        <main>
            <div class="container-lg twitter-dark">
                <div class="row row-profile">
                    <div class="col-sm-2 column container-left"></div>
                    <div class="col-sm-3 column container-profile">
                        <div class="container-sm column">
                            <div class="card card-profile">
                                <h1 th:if="${user != null and user2 == null}" th:text="${user.screenName}"></h1>
                                <h1 th:if="${user2 != null}" th:text="${user2.screenName}"></h1>

                                <p class="title" th:if="${user != null and user2 == null}" th:text="${user.firstName + ' ' + user.lastName}"></p>
                                <p class="title" th:if="${user2 != null}" th:text="${user2.firstName + ' ' + user2.lastName}"></p>

                                <p class="title" th:if="${user != null and user2 == null}" th:text="${user.role}"></p>
                                <p class="title" th:if="${user2 != null}" th:text="${user2.role}"></p>

                                <p th:if="${user != null and user2 == null}" th:text="${user.bio}"></p>
                                <p th:if="${user2 != null}" th:text="${user2.bio}"></p>
                                <a href="#"><i class="fa fa-linkedin"></i></a>
                                <a href="#"><i class="fa fa-facebook"></i></a>
                                <p>
                                    <form th:action="@{/follows/save}" method="POST" th:if="${followed == null and user2 != null}">
                                        <div class="form-group" style="display: none">
                                            <input type="number" th:name="follower" th:value="${user.id}"/>
                                        </div>
                                        <div class="form-group" style="display: none">
                                            <input type="number" th:name="followed" th:value="${user2.id}"/>
                                        </div>
                                        <button class="twitter custombutton btn btn-secondary anti-stupid" type="submit" style="width: 80%">Follow</button>
                                    </form>
                                    <form th:action="@{/follows/delete}" method="POST" th:if="${followed != null}">
                                        <div class="form-group" style="display: none">
                                            <input type="number" th:name="follower" th:value="${user.id}"/>
                                        </div>
                                        <div class="form-group" style="display: none">
                                            <input type="number" th:name="followed" th:value="${user2.id}"/>
                                        </div>
                                        <button class="twitter custombutton btn btn-secondary anti-stupid" type="submit" style="width: 80%">Unfollow</button>
                                    </form>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5 column container-activity"></div>
                    <div class="col-sm-2 column container-right"></div>
                </div>
            </div>
            <nav class="navbar navbar-expand navbar-light navbar-laravel navbar-secondary">
                <div class="row row-navbar-secondary">
                    <div class="col-sm-2 column container-left"></div>
                    <div class="col-sm-3 column container-stats anti-stupid">
                        <table>
                            <thead>
                            <tr>
                                <th class="navbar-brand navbar-header-md col1" scope="col">Followers</th>
                                <th class="navbar-brand navbar-header-sm col2" scope="col">Following</th>
                                <th class="navbar-brand navbar-header-sm col3" scope="col">Tweets</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="navbar-brand navbar-header-lg col1"><h3 th:text="${followers}"></h3></td>
                                <td class="navbar-brand navbar-header-md col2"><h4 th:text="${following}"></h4></td>
                                <td class="navbar-brand navbar-header-md col3"><h4 th:text="${tweets}"></h4></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-2 divider"></div>
                    <div class="col-sm-2 column container-activity">
                        <div class="navbar navbar-secondary-right">
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item anti-stupid" th:if="${user != null}">
                                    <button th:if="${user2 == null}" class="twitter custombutton btn btn-secondary edit-button anti-stupid" type="button" href="#" data-toggle="modal" data-target="#edit-profile-modal">Edit Profile</button>
                                    <button th:if="${user.role == 'ADMIN' and user2 != null and user2.id != null}" class="twitter custombutton btn btn-secondary edit-button admin anti-stupid" type="button" href="#" data-toggle="modal" data-target="#edit-profile-admin-modal">Admin</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-2 column container-right"></div>
                </div>
            </nav>

            <div class="container-md">
                <div class="row">
                    <div class="col-sm-2 column container-left"></div>
                    <div class="col-sm-2 column container-profile"></div>
                    <div class="col-sm-6 column container-activity">
                        <ul class="nav nav-tabs">
                            <li class='nav-item'>
                                <a class='nav-link active' data-toggle='tab' href='#s1'>Following</a>
                            </li>
                            <li class='nav-item'>
                                <a class='nav-link ' data-toggle='tab' href='#s2'>My Tweets</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class='tab-pane container fade in show active' id='s1'>
                                1
                            </div>
                            <div class='tab-pane container fade' id='s2'>
                                2
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 column container-right"></div>
                </div>
            </div>
        </main>
    </body>
</html>